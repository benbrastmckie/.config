{"timestamp":"2025-11-27T21:28:27Z","environment":"test","command":"/plan","workflow_id":"test_17970","user_args":"test","error_type":"agent_error","error_message":"Agent test-agent did not create output file within 1s","source":"validate_agent_output","stack":["1800 validate_agent_output /home/benjamin/.config/.claude/lib/core/error-handling.sh","121 test_agent_validation_detects_missing /home/benjamin/.config/.claude/tests/unit/test_plan_command_fixes.sh","229 main /home/benjamin/.config/.claude/tests/unit/test_plan_command_fixes.sh","250 main /home/benjamin/.config/.claude/tests/unit/test_plan_command_fixes.sh"],"context":{"agent":"test-agent","expected_file":"/tmp/nonexistent_agent_output_20871.txt"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:28:27Z","environment":"test","command":"/plan","workflow_id":"test_123","user_args":"test","error_type":"state_error","error_message":"Required state variables missing after load: FEATURE_DESCRIPTION","source":"validate_state_variables","stack":["668 validate_state_variables /home/benjamin/.config/.claude/lib/core/state-persistence.sh","163 test_state_validation_detects_missing /home/benjamin/.config/.claude/tests/unit/test_plan_command_fixes.sh","230 main /home/benjamin/.config/.claude/tests/unit/test_plan_command_fixes.sh","250 main /home/benjamin/.config/.claude/tests/unit/test_plan_command_fixes.sh"],"context":{"missing_variables":"FEATURE_DESCRIPTION","home":"/home/benjamin","claude_project_dir":"/home/benjamin/.config"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:39:56Z","environment":"test","command":"/convert-docs","workflow_id":"test_validation_1764279596","user_args":"/nonexistent/directory","error_type":"validation_error","error_message":"Input directory not found","source":"convert-core.sh","stack":["60 log_conversion_error /home/benjamin/.config/.claude/lib/convert/convert-core.sh","1449 main_conversion /home/benjamin/.config/.claude/lib/convert/convert-core.sh","183 test_validation_error_logging /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh","302 run_all_tests /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh","329 main /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh"],"context":{},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:40:04Z","environment":"test","command":"/convert-docs","workflow_id":"test_validation_1764279604","user_args":"/nonexistent/directory","error_type":"validation_error","error_message":"Input directory not found","source":"convert-core.sh","stack":["60 log_conversion_error /home/benjamin/.config/.claude/lib/convert/convert-core.sh","1449 main_conversion /home/benjamin/.config/.claude/lib/convert/convert-core.sh","183 test_validation_error_logging /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh","302 run_all_tests /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh","329 main /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh"],"context":{},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:40:10Z","environment":"test","command":"/convert-docs","workflow_id":"test_validation_1764279610","user_args":"/nonexistent/directory","error_type":"validation_error","error_message":"Input directory not found","source":"convert-core.sh","stack":["60 log_conversion_error /home/benjamin/.config/.claude/lib/convert/convert-core.sh","1449 main_conversion /home/benjamin/.config/.claude/lib/convert/convert-core.sh","183 test_validation_error_logging /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh","302 run_all_tests /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh","329 main /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh"],"context":{},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:40:48Z","environment":"test","command":"/repair","workflow_id":"test_repair_context_1764279648_2431563","user_args":"--file test.md","error_type":"state_error","error_message":"Test state error for context verification","source":"test_error_context_enhanced","stack":["148 test_error_context_enhanced /home/benjamin/.config/.claude/tests/integration/test_repair_workflow_output.sh","316 main /home/benjamin/.config/.claude/tests/integration/test_repair_workflow_output.sh"],"context":{"test_key":"test_value","home":"/home/benjamin","claude_project_dir":"/home/benjamin/.config"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:40:48Z","environment":"test","command":"/repair","workflow_id":"test_repair_file_1764279648_2431563","user_args":"--file test.md","error_type":"file_error","error_message":"Test file error for context verification","source":"test_file_error_context_enhanced","stack":["207 test_file_error_context_enhanced /home/benjamin/.config/.claude/tests/integration/test_repair_workflow_output.sh","317 main /home/benjamin/.config/.claude/tests/integration/test_repair_workflow_output.sh"],"context":{"file_path":"/test/path","home":"/home/benjamin","claude_project_dir":"/home/benjamin/.config"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:40:48Z","environment":"test","command":"/repair","workflow_id":"test_repair_validation_1764279648_2431563","user_args":"--type validation","error_type":"validation_error","error_message":"Test validation error","source":"test_validation_error_no_enhancement","stack":["266 test_validation_error_no_enhancement /home/benjamin/.config/.claude/tests/integration/test_repair_workflow_output.sh","318 main /home/benjamin/.config/.claude/tests/integration/test_repair_workflow_output.sh"],"context":{"input":"bad_value"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:30Z","environment":"test","command":"/test","workflow_id":"test_unbound_1764279690","user_args":"unbound_test","error_type":"execution_error","error_message":"Bash error at line 1: exit code 1","source":"bash_trap","stack":["1738 _log_bash_exit /home/benjamin/.config/.claude/lib/core/error-handling.sh","1 main /tmp/test_plan_unbound.sh"],"context":{"line":1,"exit_code":1,"command":"echo \"$UNDEFINED_VARIABLE\""},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:30Z","environment":"test","command":"/test","workflow_id":"test_cmd404_1764279690","user_args":"cmd404_test","error_type":"execution_error","error_message":"Bash error at line 25: exit code 127","source":"bash_trap","stack":["25 _log_bash_error /home/benjamin/.config/.claude/lib/core/error-handling.sh","25 main /tmp/test_plan_cmd404.sh"],"context":{"line":25,"exit_code":127,"command":"nonexistent_command_xyz_12345"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:30Z","environment":"test","command":"/test","workflow_id":"test_unbound_1764279690","user_args":"unbound_test","error_type":"execution_error","error_message":"Bash error at line 1: exit code 1","source":"bash_trap","stack":["1738 _log_bash_exit /home/benjamin/.config/.claude/lib/core/error-handling.sh","1 main /tmp/test_build_unbound.sh"],"context":{"line":1,"exit_code":1,"command":"echo \"$UNDEFINED_VARIABLE\""},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:30Z","environment":"test","command":"/test","workflow_id":"test_cmd404_1764279690","user_args":"cmd404_test","error_type":"execution_error","error_message":"Bash error at line 25: exit code 127","source":"bash_trap","stack":["25 _log_bash_error /home/benjamin/.config/.claude/lib/core/error-handling.sh","25 main /tmp/test_build_cmd404.sh"],"context":{"line":25,"exit_code":127,"command":"nonexistent_command_xyz_12345"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:30Z","environment":"test","command":"/test","workflow_id":"test_unbound_1764279690","user_args":"unbound_test","error_type":"execution_error","error_message":"Bash error at line 1: exit code 1","source":"bash_trap","stack":["1738 _log_bash_exit /home/benjamin/.config/.claude/lib/core/error-handling.sh","1 main /tmp/test_debug_unbound.sh"],"context":{"line":1,"exit_code":1,"command":"echo \"$UNDEFINED_VARIABLE\""},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:30Z","environment":"test","command":"/test","workflow_id":"test_cmd404_1764279690","user_args":"cmd404_test","error_type":"execution_error","error_message":"Bash error at line 25: exit code 127","source":"bash_trap","stack":["25 _log_bash_error /home/benjamin/.config/.claude/lib/core/error-handling.sh","25 main /tmp/test_debug_cmd404.sh"],"context":{"line":25,"exit_code":127,"command":"nonexistent_command_xyz_12345"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:30Z","environment":"test","command":"/test","workflow_id":"test_unbound_1764279690","user_args":"unbound_test","error_type":"execution_error","error_message":"Bash error at line 1: exit code 1","source":"bash_trap","stack":["1738 _log_bash_exit /home/benjamin/.config/.claude/lib/core/error-handling.sh","1 main /tmp/test_repair_unbound.sh"],"context":{"line":1,"exit_code":1,"command":"echo \"$UNDEFINED_VARIABLE\""},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:31Z","environment":"test","command":"/test","workflow_id":"test_cmd404_1764279691","user_args":"cmd404_test","error_type":"execution_error","error_message":"Bash error at line 25: exit code 127","source":"bash_trap","stack":["25 _log_bash_error /home/benjamin/.config/.claude/lib/core/error-handling.sh","25 main /tmp/test_repair_cmd404.sh"],"context":{"line":25,"exit_code":127,"command":"nonexistent_command_xyz_12345"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:31Z","environment":"test","command":"/test","workflow_id":"test_unbound_1764279691","user_args":"unbound_test","error_type":"execution_error","error_message":"Bash error at line 1: exit code 1","source":"bash_trap","stack":["1738 _log_bash_exit /home/benjamin/.config/.claude/lib/core/error-handling.sh","1 main /tmp/test_revise_unbound.sh"],"context":{"line":1,"exit_code":1,"command":"echo \"$UNDEFINED_VARIABLE\""},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:31Z","environment":"test","command":"/test","workflow_id":"test_cmd404_1764279691","user_args":"cmd404_test","error_type":"execution_error","error_message":"Bash error at line 25: exit code 127","source":"bash_trap","stack":["25 _log_bash_error /home/benjamin/.config/.claude/lib/core/error-handling.sh","25 main /tmp/test_revise_cmd404.sh"],"context":{"line":25,"exit_code":127,"command":"nonexistent_command_xyz_12345"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:50Z","environment":"test","command":"/convert-docs","workflow_id":"test_validation_1764279710","user_args":"/nonexistent/directory","error_type":"validation_error","error_message":"Input directory not found","source":"convert-core.sh","stack":["60 log_conversion_error /home/benjamin/.config/.claude/lib/convert/convert-core.sh","1449 main_conversion /home/benjamin/.config/.claude/lib/convert/convert-core.sh","183 test_validation_error_logging /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh","302 run_all_tests /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh","329 main /home/benjamin/.config/.claude/tests/features/commands/test_convert_docs_error_logging.sh"],"context":{},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:51Z","environment":"test","command":"/test-t1","workflow_id":"test_t1_2465603","user_args":"syntax test","error_type":"parse_error","error_message":"Bash error at line 1: exit code 2","source":"bash_trap","stack":["1738 _log_bash_exit ./.claude/lib/core/error-handling.sh","1 main /tmp/tmp.AC4h3BLBg1"],"context":{"line":1,"exit_code":2,"command":"trap '_log_bash_exit $LINENO \"$BASH_COMMAND\" \"'\"$cmd_name\"'\" \"'\"$workflow_id\"'\" \"'\"$user_args\"'\"' EXIT"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:51Z","environment":"test","command":"/test-t2","workflow_id":"test_t2_2465637","user_args":"unbound test","error_type":"execution_error","error_message":"Bash error at line 1: exit code 1","source":"bash_trap","stack":["1738 _log_bash_exit /home/benjamin/.config/.claude/lib/core/error-handling.sh","1 main /tmp/tmp.5JpXGOOHrg"],"context":{"line":1,"exit_code":1,"command":"echo \"$UNDEFINED_VARIABLE\""},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:52Z","environment":"test","command":"/test-t3","workflow_id":"test_t3_2465671","user_args":"cmd-not-found test","error_type":"execution_error","error_message":"Bash error at line 8: exit code 127","source":"bash_trap","stack":["8 _log_bash_error /home/benjamin/.config/.claude/lib/core/error-handling.sh","8 main /tmp/tmp.jOHPWaBzTJ"],"context":{"line":8,"exit_code":127,"command":"nonexistent_command_xyz123"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
{"timestamp":"2025-11-27T21:41:52Z","environment":"test","command":"/test-t4","workflow_id":"test_t4_2465706","user_args":"func-not-found test","error_type":"execution_error","error_message":"Bash error at line 8: exit code 127","source":"bash_trap","stack":["8 _log_bash_error /home/benjamin/.config/.claude/lib/core/error-handling.sh","8 main /tmp/tmp.Emd8Knd3CX"],"context":{"line":8,"exit_code":127,"command":"nonexistent_function_abc789"},"status":"ERROR","status_updated_at":null,"repair_plan_path":null}
