# Ground Truth Complexity Ratings
#
# This file contains manually-assessed complexity ratings for plan phases,
# used to validate the automated complexity formula.
#
# Rating Scale: 0.0-15.0
#   0.0-3.0: Low complexity
#   3.1-6.0: Medium complexity
#   6.1-8.0: Medium-High complexity
#   8.1-12.0: High complexity
#   12.1-15.0: Very High complexity
#
# Assessment Criteria:
# - Work volume (task count)
# - Integration complexity (file count, dependencies)
# - Risk level (security, migrations, breaking changes)
# - Testing requirements
# - Overall implementation difficulty

ground_truth_ratings:
  # From Plan 080: Orchestrate Enhancement
  - phase_id: "080_phase_0"
    phase_name: "Critical - Remove Command-to-Command Invocations"
    plan_path: ".claude/specs/plans/080_orchestrate_enhancement/080_orchestrate_enhancement.md"
    human_rating: 9.0
    rationale: "High complexity due to architectural changes, multiple file modifications, pattern violations to fix"
    factors_noted:
      - "Refactoring architectural pattern (behavioral injection)"
      - "Multiple command file modifications"
      - "Validation and testing requirements"
      - "Critical impact on downstream phases"

  - phase_id: "080_phase_1"
    phase_name: "Foundation - Location Specialist and Artifact Organization"
    plan_path: ".claude/specs/plans/080_orchestrate_enhancement/080_orchestrate_enhancement.md"
    human_rating: 8.0
    rationale: "Medium-High complexity with 7 stages, cross-phase coordination, new agent creation"
    factors_noted:
      - "7 implementation stages (4 completed + 2 new + 1 skipped)"
      - "New agent creation (location-specialist)"
      - "Artifact path injection across multiple phases"
      - "Debug loop implementation (high complexity sub-stage)"

  - phase_id: "080_phase_2"
    phase_name: "Research Synthesis - Overview Report Generation"
    plan_path: ".claude/specs/plans/080_orchestrate_enhancement/080_orchestrate_enhancement.md"
    human_rating: 5.0
    rationale: "Medium complexity - single new agent, straightforward aggregation task"
    factors_noted:
      - "Single agent creation (research-synthesizer)"
      - "Report aggregation logic"
      - "Cross-reference validation"
      - "Moderate integration complexity"

  - phase_id: "080_phase_3"
    phase_name: "Complexity Evaluation - Automated Plan Analysis"
    plan_path: ".claude/specs/plans/080_orchestrate_enhancement/phase_3_complexity_evaluation.md"
    human_rating: 8.0
    rationale: "High complexity due to algorithmic design, multi-factor analysis, critical role"
    factors_noted:
      - "Weighted formula design with 5 factors"
      - "Normalization algorithm"
      - "Agent creation with complex extraction logic"
      - "Threshold configuration system"
      - "Validation dataset creation"

  - phase_id: "080_phase_4"
    phase_name: "Plan Expansion - Hierarchical Structure and Automated Expansion"
    plan_path: ".claude/specs/plans/080_orchestrate_enhancement/080_orchestrate_enhancement.md"
    human_rating: 9.0
    rationale: "Very high complexity - directory management, recursive expansion, metadata updates"
    factors_noted:
      - "Complex directory structure management (Level 0/1/2)"
      - "Recursive complexity evaluation"
      - "Parent plan updates with summaries"
      - "Expansion metadata tracking"
      - "Integration with complexity-estimator"

  - phase_id: "080_phase_5"
    phase_name: "Wave-Based Implementation - Parallel Execution Pattern"
    plan_path: ".claude/specs/plans/080_orchestrate_enhancement/080_orchestrate_enhancement.md"
    human_rating: 10.0
    rationale: "Maximum complexity - dependency analysis, parallel orchestration, checkpoint management"
    factors_noted:
      - "Dependency graph analysis (topological sort)"
      - "Wave identification algorithm"
      - "Parallel executor coordination"
      - "Real-time progress tracking"
      - "Checkpoint-based recovery"
      - "Complex failure handling"

  - phase_id: "080_phase_6"
    phase_name: "Comprehensive Testing - Dedicated Test Suite Execution"
    plan_path: ".claude/specs/plans/080_orchestrate_enhancement/080_orchestrate_enhancement.md"
    human_rating: 7.0
    rationale: "Medium-High complexity - test-specialist agent, result parsing, conditional debugging"
    factors_noted:
      - "Test-specialist agent creation"
      - "Test result parsing and extraction"
      - "Conditional debugging invocation"
      - "Context reduction (99%+ target)"
      - "Artifact management for test outputs"

  - phase_id: "080_phase_7"
    phase_name: "Progress Tracking - Automated Reminders and Spec Updates"
    plan_path: ".claude/specs/plans/080_orchestrate_enhancement/080_orchestrate_enhancement.md"
    human_rating: 8.0
    rationale: "High complexity - hierarchical updates, reminder injection, real-time visualization"
    factors_noted:
      - "Hierarchical checkbox propagation (L2→L1→L0)"
      - "Automated reminder injection"
      - "Git commit message standardization"
      - "Real-time progress visualization"
      - "Wave-based status display"

  # Simple/Low Complexity Examples for Calibration
  - phase_id: "example_simple_config"
    phase_name: "Setup Project Configuration"
    plan_path: "examples/simple_config_phase.md"
    human_rating: 1.5
    rationale: "Very low complexity - minimal tasks, no dependencies, low risk"
    factors_noted:
      - "Only 3 tasks (create config, update README, verify)"
      - "2 files touched"
      - "No dependencies"
      - "No high-risk operations"

  - phase_id: "example_api_endpoint"
    phase_name: "Implement Single REST API Endpoint"
    plan_path: "examples/api_endpoint_phase.md"
    human_rating: 3.5
    rationale: "Low-Medium complexity - standard implementation pattern"
    factors_noted:
      - "6-8 tasks (handler, validation, tests, docs)"
      - "4-5 files"
      - "Minimal dependencies"
      - "Standard testing requirements"

  - phase_id: "example_database_migration"
    phase_name: "Database Schema Migration with Data Transformation"
    plan_path: "examples/migration_phase.md"
    human_rating: 11.0
    rationale: "Very high complexity - high risk, requires careful sequencing, rollback planning"
    factors_noted:
      - "15+ tasks (migration, transformation, validation, rollback)"
      - "Multiple database files"
      - "High-risk operation (irreversible data changes)"
      - "Extensive testing required (data integrity, performance)"
      - "Rollback procedures critical"

# Validation Metrics
validation_metrics:
  dataset_size: 11
  rating_range:
    min: 1.5
    max: 11.0
    mean: 7.2
  complexity_distribution:
    low: 2  # 0.0-3.0
    medium: 1  # 3.1-6.0
    medium_high: 3  # 6.1-8.0
    high: 4  # 8.1-12.0
    very_high: 1  # 12.1-15.0
  raters: 1  # Single expert rater (Claude Code during plan implementation)
  rating_date: "2025-10-21"

# Correlation Test Expectations
expected_correlation:
  target_pearson_r: 0.90
  minimum_acceptable_r: 0.85
  excellent_threshold_r: 0.95

# Notes
notes: |
  This ground truth dataset is based on actual implementation experience with Plan 080
  (Orchestrate Enhancement). Ratings reflect the complexity encountered during actual
  implementation, including:
  - Phase 0: Architectural refactoring (9.0 - actually high complexity)
  - Phase 1: Multi-stage foundation work (8.0 - 7 stages, debug loop was complex)
  - Phase 5: Maximum complexity (10.0 - parallel execution is genuinely hard)

  Simple examples added for calibration to ensure formula works across full range.

  Future updates should include phases from other plans for broader validation.
