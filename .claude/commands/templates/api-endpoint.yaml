name: "API Endpoint Implementation"
description: "Template for implementing REST API endpoints with proper error handling and testing"
category: "backend"
complexity_level: "medium"
estimated_time: "4-6 hours"
variables:
  - name: endpoint_path
    description: "API endpoint path (e.g., /api/users, /api/posts/:id)"
    type: string
    required: true
  - name: methods
    description: "HTTP methods to implement (e.g., GET, POST, PUT, DELETE)"
    type: array
    required: true
  - name: auth_required
    description: "Whether authentication is required"
    type: boolean
    required: false
    default: "true"
  - name: request_schema
    description: "Request body fields (for POST/PUT)"
    type: array
    required: false
phases:
  - name: "API Design and Validation"
    dependencies: []
    tasks:
      - "Define {{endpoint_path}} endpoint specification"
      - "Design request schema{{#if request_schema}}: {{#each request_schema}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}{{/if}}"
      - "Design response schema for success cases"
      - "Design error response format"
      - "Document expected HTTP status codes"
      - "Create API specification document (OpenAPI/Swagger)"
  - name: "Backend Implementation"
    dependencies: [1]
    tasks:
      - "{{#each methods}}Implement {{this}} {{endpoint_path}} handler{{#unless @last}}; {{/unless}}{{/each}}"
      - "Add input validation middleware"
      - "{{#if auth_required}}Add authentication middleware{{/if}}"
      - "{{#if auth_required}}Add authorization checks{{/if}}"
      - "Implement business logic for endpoint"
      - "Add error handling for common cases (404, 400, 500)"
      - "Add logging for debugging"
      - "Implement rate limiting if needed"
  - name: "Testing"
    dependencies: [2]
    tasks:
      - "{{#each methods}}Write integration tests for {{this}} {{endpoint_path}}{{#unless @last}}; {{/unless}}{{/each}}"
      - "Test success cases with valid data"
      - "Test error cases (invalid input, unauthorized, not found)"
      - "{{#if auth_required}}Test authentication scenarios{{/if}}"
      - "Test edge cases and boundary conditions"
      - "Test rate limiting if implemented"
      - "Run full test suite"
  - name: "Documentation and Deployment"
    dependencies: [3]
    tasks:
      - "Update API documentation with {{endpoint_path}} details"
      - "Add usage examples for each method"
      - "Document authentication requirements"
      - "Document rate limits and quotas"
      - "Update changelog with new endpoint"
      - "Verify endpoint works in staging environment"
research_topics:
  - "RESTful API design best practices for {{endpoint_path}}"
  - "HTTP status code selection for API endpoints"
  - "{{#if auth_required}}API authentication and authorization patterns{{/if}}"
  - "API error handling and response formatting"
