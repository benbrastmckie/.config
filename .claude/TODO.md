# TODO

## In Progress

- [x] **Error Repair Implementation** - Fix 140 logged errors across 7 patterns affecting 10 commands [.claude/specs/983_repair_20251130_100233/plans/001-repair-20251130-100233-plan.md]
  - 1/7 phases complete

- [x] **/todo Command Standards Compliance** - Revise /todo command to comply with 7-section TODO Organization Standards [.claude/specs/993_todo_command_revise_standards/plans/001-todo-command-revise-standards-plan.md]
  - 6/6 phases complete

## Not Started

- [ ] **Commands README Update** - Update commands README.md with accurate command inventory and standards [.claude/specs/788_commands_readme_update/plans/001_commands_readme_update_plan.md]
- [ ] **Plan Metadata Update Patterns** - Implement plan metadata progress tracking with status markers across lifecycle [.claude/specs/792_standards_appropriately_to_include_these_new_plan/plans/001_standards_appropriately_to_include_these_plan.md]
- [ ] **Plan Standards Alignment** - Integrate CLAUDE.md standards extraction into plan-architect agent workflow [.claude/specs/968_plan_standards_alignment/plans/001-plan-standards-alignment-plan.md]
- [ ] **Refactor /todo --clean Command** - Refactor cleanup filtering to remove age threshold and add git verification [.claude/specs/971_refactor_todo_clean_command/plans/001-refactor-todo-clean-command-plan.md]
- [ ] **Cleanup Completed Projects** - Safe archival of cleanup-eligible directories to timestamped archive [.claude/specs/977_cleanup_completed_projects/plans/001-cleanup-completed-projects-plan.md]
- [ ] **Buffer Hook Reversion** - Systematic removal of buffer-hook integration from research and other workflows [.claude/specs/980_revert_research_buffer_hook/plans/001-revert-research-buffer-hook-plan.md]
- [ ] **/research Errors Repair** - Fix systematic errors in research workflow (library sourcing, agent protocol) [.claude/specs/984_repair_research_20251130_101553/plans/001-repair-research-20251130-115356-plan.md]
- [ ] **Phase Metadata Status Fix** - Fix plans with all phases marked complete but metadata showing in progress [.claude/specs/985_phase_metadata_status_fix/plans/001-phase-metadata-status-fix-plan.md]
- [ ] **Command Performance Optimization** - Structural optimizations (hard barriers, block consolidation, bulk I/O) [.claude/specs/986_optimize_command_performance/plans/001-optimize-command-performance-plan.md]

## Research

Research-only projects (reports without implementation plans):

- [ ] **Error Analysis: /plan Command** - Analysis of /plan command errors [.claude/specs/102_plan_command_error_analysis/]
- [ ] **Error Analysis: /debug Command** - Analysis of /debug command errors [.claude/specs/107_debug_command_error_analysis/]
- [ ] **Error Analysis: /build Command** - Build command error analysis [.claude/specs/20251120_build_error_analysis/]
- [ ] **Haiku Subagents for Parallel Conversion** - Research on Haiku parallel subagents for /convert-docs [.claude/specs/20251121_convert_docs_plan_improvements_research/]
- [ ] **Repair Plans Standards Consistency** - Standards consistency analysis for repair plans [.claude/specs/20251121_repair_plans_standards_consistency/]
- [ ] **Long Prompt Handling Analysis** - Research on handling long prompts [.claude/specs/791_prompt_examplemd_which_i_want_you_to_review_as/]
- [ ] **Command Flag Analysis** - Flag analysis and simplification research [.claude/specs/796_claude_commands_readmemd_and_evaluate_how/]
- [ ] **Command Protocols Research** - Command protocols file research [.claude/specs/828_directory_can_be_deleted_from_time_to_time_so_i/]
- [ ] **Deleted Library Files Analysis** - Analysis of deleted lib files still referenced [.claude/specs/832_deleted_lib_files_that_still_referenced/]
- [ ] **UTILS_README vs README Separation** - Research on README file separation [.claude/specs/837_claude_lib_readmemd_what_why_separated/]
- [ ] **Test Directory Refactoring** - Research on test directory organization [.claude/specs/839_directory_that_organizes_tests_into/]
- [ ] **Error Analysis Infrastructure Complexity** - Complexity vs value analysis [.claude/specs/842_841_error_analysis_repair_plans_001_error/]
- [ ] **/setup and /optimize-claude Analysis** - Commands analysis report [.claude/specs/843_optimizeclaude_commands_in_order_to_create_a_plan/]
- [ ] **Setup/Optimize Refactor Plan** - Systematic refactor plan for /setup and /optimize-claude [.claude/specs/845_standards_to_modernize_setup_and_optimizeclaude/]
- [ ] **Documentation Consolidation Balance** - Research on documentation consolidation [.claude/specs/852_plans_001_so_that_no_dependencies_break_create_a/]
- [ ] **/setup Command Analysis** - Comprehensive analysis and refactoring guide [.claude/specs/853_explain_exactly_what_command_how_used_what_better/]
- [ ] **Spec Directory Naming Analysis** - Analysis and improvement plan for spec directory names [.claude/specs/856_to_create_a_plan_to_improve_directory_names_while/]
- [ ] **Artifact Management Analysis** - Comprehensive artifact management analysis [.claude/specs/859_leaderac_command_nvim_order_check_that_there_full/]
- [ ] **Build Errors Not Captured Analysis** - Root cause analysis for build errors [.claude/specs/860_claude_buildoutputmd_which_i_want_you_to_research/]
- [ ] **Plan 861 Revision Analysis** - Post-Plan 863 implementation analysis [.claude/specs/865_861_build_command_use_this_research_to_create_a/]
- [ ] **Plan 871 Standards Compliance** - Standards compliance analysis [.claude/specs/875_plan_compliance_standards_review/]
- [ ] **/errors Command Test Report** - Error analysis report [.claude/specs/888_errors_command_test_report/]
- [ ] **/convert-docs Validation Improvements** - Validation and improvement research [.claude/specs/892_convert_docs_validation_improvements/]
- [ ] **Skills Doc Standards Plan Review** - Plan relevance and improvement analysis [.claude/specs/897_skills_doc_standards_plan_review/]
- [ ] **Repair Plans Relevance Review** - Repair plans relevance analysis [.claude/specs/898_repair_plans_relevance_review/]
- [ ] **Build Workflow Plans Overlap** - Overlap analysis for build workflow plans [.claude/specs/900_build_workflow_plans_overlap_analysis/]
- [ ] **Plan Integration Overlap Analysis** - Plan integration and overlap analysis [.claude/specs/901_plan_integration_overlap_analysis/]
- [ ] **/errors Command Directory Protocols** - Directory protocols non-compliance research [.claude/specs/905_error_command_directory_protocols/]
- [ ] **Repair Error Analysis** - Error analysis report [.claude/specs/914_repair_error_analysis/]
- [ ] **Plans Standards Gaps Research** - Gap analysis for old vs new plans [.claude/specs/917_plans_research_docs_standards_gaps/]
- [ ] **Deprecated Tests Cleanup Analysis** - Analysis of deprecated tests [.claude/specs/920_deprecated_tests_cleanup_analysis/]
- [ ] **Skills /convert-docs Usage** - Skills usage analysis [.claude/specs/922_skills_convert_docs_usage/]
- [ ] **Error Analysis Research** - Error analysis report [.claude/specs/923_error_analysis_research/]
- [ ] **Error Analysis** - Error analysis report [.claude/specs/926_error_analysis/]
- [ ] **Docs Infrastructure Research** - Plan improvement analysis for Plan 883 [.claude/specs/931_docs_infrastructure_research/]
- [ ] **Build Error Analysis** - Error analysis report [.claude/specs/932_build_error_analysis/]
- [ ] **/plan Error Analysis** - Error analysis report for /plan command [.claude/specs/936_error_analysis_plan/]
- [ ] **Build Error Coverage Validation** - Error coverage validation report [.claude/specs/937_build_error_coverage_validation/]
- [ ] **Research Errors Validation** - Error detection and repair plan validation [.claude/specs/938_research_errors_validation/]
- [ ] **/debug Error Analysis** - Error analysis report for /debug command [.claude/specs/940_error_analysis_debug/]
- [ ] **Debug Error Report Validation** - Error coverage validation for debug command [.claude/specs/942_debug_error_report_validation/]
- [ ] **Repair Error Coverage Validation** - Error coverage validation report [.claude/specs/944_repair_error_coverage_validation/]
- [ ] **Subagent Delegation Performance** - Subagent delegation performance analysis [.claude/specs/951_subagent_refactor_performance_research/]
- [ ] **Plan Triage TODO Analysis** - Plan triage analysis for TODO.md not started plans [.claude/specs/963_plan_triage_todo_analysis/]
- [ ] **Command Infrastructure Uniformity** - Analysis of command infrastructure uniformity [.claude/specs/989_no_name_error/]
- [ ] **Command TODO Tracking Integration** - Command-level TODO.md tracking integration spec [.claude/specs/990_commands_todo_tracking_integration/]
- [ ] **Error Logging Plan Relevance** - Plan relevance analysis for 884 [.claude/specs/error_logging_plan_relevance/]
- [ ] **/errors Command Capture Fix** - Root cause analysis for bash history expansion errors [.claude/specs/errors_command_capture_fix/]
- [ ] **Errors Plan Analysis** - Error analysis report [.claude/specs/errors_plan_analysis/]
- [ ] **Repair Plans Priority Analysis** - Repair plans relevance and priority analysis [.claude/specs/repair_plans_priority_analysis/]
- [ ] **Research Error Analysis** - Error analysis report [.claude/specs/research_error_analysis/]

## Saved

*Manually curated items temporarily deprioritized. Content preserved across /todo updates.*

## Backlog

**Refactoring/Enhancement Ideas**:

- check relevant standards, updating as needed
- Retry semantic directory topic names and other fail-points
- Refactor subagent applications throughout commands
  - [20251121_convert_docs_plan_improvements_research](specs/20251121_convert_docs_plan_improvements_research/) - Haiku subagents, orchestrator patterns, skills integration
  - Incorporate skills throughout commands
- Make commands update TODO.md automatically
- Make all relevant commands update TODO.md
- Make metadata and summary outputs uniform across artifacts (include directory project numbers)
- /repair to check agreement with .claude/docs/ standards
- **Command optimization and consolidation** - Consolidate fragmented commands (/expand 32->8 blocks, /collapse 29->8 blocks), standardize "Block N" documentation, evaluate initialization patterns [Merged from Plan 882]

**Related Research**:

- Haiku parallel subagents for /convert-docs: [.claude/specs/20251121_convert_docs_plan_improvements_research/reports/001_haiku_parallel_subagents.md]
- Orchestrator command standards: [.claude/specs/20251121_convert_docs_plan_improvements_research/reports/002_orchestrator_command_standards.md]
- Skills integration patterns: [.claude/specs/20251121_convert_docs_plan_improvements_research/reports/003_skills_integration_patterns.md]

## Abandoned

- [x] **/todo --clean Orphaned Research Directory Cleanup** - Research directory cleanup via Completed section tracking (blocked - depends on Plan 990) [.claude/specs/992_todo_clean_artifact_removal/plans/001-todo-clean-artifact-removal-plan.md]

- [~] **Neovim buffer opening integration** - Superseded by Plan 851 (Hook-based buffer opening) which is complete [.claude/specs/848_when_using_claude_code_neovim_greggh_plugin/plans/001_buffer_opening_integration_plan.md] -> See [851_hook_based_buffer_opening](specs/851_001_buffer_opening_integration_planmd_the_claude/plans/001_001_buffer_opening_integration_planmd_th_plan.md)
- [~] **Make /build persistent** - Superseded by Plan 899 (Build iteration infrastructure) [.claude/specs/881_build_persistent_workflow_refactor/plans/001_build_persistent_workflow_refactor_plan.md] -> See [901_plan_integration_overlap_analysis](specs/901_plan_integration_overlap_analysis/reports/001_plan_integration_overlap_analysis.md)
- [~] **Unified repair implementation** - Superseded by ordered High Priority plans (1, 2, 3) which provide same coverage with better sequencing [.claude/specs/885_repair_plans_research_analysis/plans/001_repair_plans_research_analysis_plan.md] -> See [repair_plans_priority_analysis](specs/repair_plans_priority_analysis/reports/001_repair_plans_priority_analysis.md)
- [~] **System-wide error logging gaps** - Phase 0 obsolete (function exists), Phase 2 duplicates Plan 2; valuable elements preserved in Plan 902 [.claude/specs/884_build_error_logging_discrepancy/plans/001_debug_strategy.md] -> See [902_error_logging_infrastructure_completion](specs/902_error_logging_infrastructure_completion/reports/001_plan_884_preserved_elements.md)

- [x] **Error logging infrastructure completion** - Helper functions (validate_required_functions, execute_with_logging) deemed unnecessary after comprehensive analysis [.claude/specs/902_error_logging_infrastructure_completion/plans/001_error_logging_infrastructure_completion_plan.md]
  - **Reason**: Error logging infrastructure already 100% complete across all 12 commands
  - **Analysis**: setup_bash_error_trap already catches function-not-found errors; helper functions would trade context-specific error messages for generic ones (net negative)
  - **Alternative**: Focus on Plan 883 (Commands Optimize Refactor) for measurable improvements
  - See [Infrastructure Optimization Analysis](specs/949_commands_infrastructure_research/reports/001_infrastructure_optimization_analysis.md)

- [x] **/revise errors repair (122)** - Verify and close out existing repair work [.claude/specs/122_revise_errors_repair/plans/001-revise_errors_repair-plan.md]
  - **Reason**: Superseded by multiple completed repair plans (876, 864, 955)
  - All /revise command errors have been fixed: history expansion (set +H in all commands), library sourcing (three-tier pattern), state machine (sm_validate_state exists)

- [x] **Coordinate command archival (799)** - Archive /coordinate command with all dependencies [.claude/specs/799_coordinate_command_all_its_dependencies_order/plans/001_coordinate_command_all_its_dependencies__plan.md]
  - **Reason**: Work already completed - coordinate.md no longer exists (already archived)
  - Command references already cleaned up by Plan 801

- [x] **Plan status metadata (805)** - Add plan-level status field to metadata section [.claude/specs/805_when_plans_created_command_want_metadata_include/plans/001_when_plans_created_command_want_metadata_plan.md]
  - **Reason**: Plan phases marked [COMPLETE] but Status metadata stale
  - Work was completed: plan-architect now includes Status field in template

- [x] **README.md revision (806)** - Revise specific sections of commands/README.md [.claude/specs/806_claude_commands_readmemd_revise_adaptive_plan/plans/001_claude_commands_readmemd_revise_adaptive_plan.md]
  - **Reason**: All 4 phases marked [COMPLETE] but Status metadata stale
  - Work was completed: Adaptive Plan Structures, Standards Discovery, inline examples all updated

- [x] **Fix /revise command errors (822)** - Bash history expansion, CLAUDE_PROJECT_DIR bootstrap [.claude/specs/822_claude_reviseoutputmd_which_i_want_you_to/plans/001_claude_reviseoutputmd_which_i_want_you_t_plan.md]
  - **Reason**: Fixed by Plan 876 (Fix bash history expansion UI errors)
  - All commands now have `set +H` (verified via grep), three-tier sourcing pattern applied

- [x] **Empty debug directory creation bug (869)** - Update 6 commands to enforce lazy directory creation [.claude/specs/869_debug_directory_creation_bug/plans/001_debug_strategy.md]
  - **Reason**: Fixed by Plan 870 (Fix lazy directory creation violations across 6 commands)
  - Same scope and objective - Plan 870 was the implementation

- [x] **/plan command errors repair alternate (904)** - Error handling and library sourcing [.claude/specs/904_plan_command_errors_repair/plans/001-plan-command-errors-repair-plan.md]
  - **Reason**: Superseded by completed Plans 908, 909 which fixed /plan command errors
  - Note: There is a completed Plan 904 in the Completed section - this is a different plan file (001_plan_command_errors_repair_plan.md vs 001-plan-command-errors-repair-plan.md)

- [x] **/errors command directory protocols (906)** - Single command file with library integration [.claude/specs/906_errors_command_directory_protocols/plans/001_errors_command_directory_protocols_plan.md]
  - **Reason**: Work already completed - /errors now sources workflow-initialization.sh and uses initialize_workflow_paths()
  - Verified: grep confirms workflow-initialization.sh sourced at lines 274, 371

- [x] **Directory numbering bug debug (910)** - Fix topic-utils.sh numbering [.claude/specs/910_repair_directory_numbering_bug/plans/001_debug_strategy.md]
  - **Reason**: Fixed by Plan 946 (Fix spec directory numbering collision)
  - Atomic allocation via allocate_and_create_topic() now eliminates race conditions and 4-digit anomalies

- [x] **/debug command library sourcing fix (912)** - Library sourcing repair [.claude/specs/912_debug_error_analysis/plans/001_debug_error_analysis_repair_plan.md]
  - **Reason**: Plan phases marked with [x] (complete) but Status metadata stale
  - Work was completed: workflow-initialization.sh sourcing added to /debug Part 3

- [x] **Repair error state machine fix (915)** - State machine repair [.claude/specs/915_repair_error_state_machine_fix/plans/001_repair_error_state_machine_fix_plan.md]
  - **Reason**: Work already implemented - sm_validate_state() exists in workflow-state-machine.sh (lines 740-767)
  - State persistence and validation patterns now standard across all commands

- [x] **/research command error repair (921)** - State machine initialization and validation [.claude/specs/921_no_name_error/plans/001-research-command-error-repair-plan.md]
  - **Reason**: Superseded by completed Plans 925 (repair research plan refactor), 955 (error capture trap timing)
  - State machine guards, benign error filtering, and trap timing all addressed

- [x] **/research command error repair patterns (935)** - Topic naming and bash environment [.claude/specs/935_errors_repair_research/plans/001-errors-repair-research-plan.md]
  - **Reason**: Superseded by completed Plans 925, 955, 911, 913
  - Topic naming, bash environment, state machine issues all fixed in completed plans

- [x] **/plan errors repair (939)** - Agent failures and library sourcing [.claude/specs/939_errors_repair_plan/plans/001-errors-repair-plan-plan.md]
  - **Reason**: Many overlapping concerns already fixed by Plans 908, 909, 955
  - Critical state file mismatch finding is valid but should be addressed in a new focused plan if still occurring

- [x] **Command protocols disposition (830)** - Review and integrate command protocols [.claude/specs/830_specs_standards_commandprotocolsmd_was_created/plans/001_command_protocols_disposition_plan.md]
  - **Reason**: Decision plan recommending deletion - command-protocols.md represents over-engineering
  - Current state-based orchestration architecture already provides coordination (67% faster, 95.6% context reduction)

- [x] **Error analysis and repair (841)** - Implement 4 recommendations from error analysis [.claude/specs/841_error_analysis_repair/plans/001_error_analysis_repair_plan.md]
  - **Reason**: Superseded by completed Plans 955, 956, 959
  - All 4 objectives addressed: error segregation, cleanup utility, log rotation, enhanced metadata

- [x] **Build phase progress metadata (857)** - Display current phase number in plan metadata [.claude/specs/857_command_order_make_update_metadata_specify_phase/plans/001_build_phase_progress_metadata_plan.md]
  - **Reason**: Low value (cosmetic) relative to high implementation effort (6 hours, complexity 32)
  - Phase progress already visible through heading markers in plan files

- [x] **Error analysis comprehensive (871)** - Infrastructure failures and build workflow issues [.claude/specs/871_error_analysis_and_repair/plans/001_error_analysis_and_repair_plan.md]
  - **Reason**: 40-60% overlap with completed Plans 955, 956, 959, 787
  - Core objectives (error capture, state persistence, preprocessing safety) already achieved

## Completed

### 2025-11-30

- [x] **/research Command Error Repair** - Fix critical state persistence failures blocking 100% of /research workflows [.claude/specs/991_repair_research_20251130_115356/plans/001-repair-research-20251130-115356-plan.md]
  - 6/6 phases complete

- [x] **/build Command Task Delegation Fix** - Fix /build command Task delegation bypass via hard barrier pattern [.claude/specs/994_repair_build_20251130_123849/plans/001-repair-build-20251130-123849-plan.md]
  - 5/5 phases complete

- [x] **/revise Command Subagent Delegation Refactor** - Refactor /revise command to delegate plan revision to plan-architect subagent [.claude/specs/995_revise_command_subagent_delegation/plans/001-revise-command-subagent-delegation-plan.md]
  - 4/4 phases complete

- [x] **/repair Command Subagent Delegation Refactor** - Fix /repair command hard barrier subagent delegation pattern for 100% compliance [.claude/specs/996_repair_repair_20251130_124436/plans/001-repair-repair-20251130-124436-plan.md]
  - 6/6 phases complete

- [x] **Plan Status Metadata Update Fix** - Fix plan status metadata not updating to COMPLETE after /build workflow finishes [.claude/specs/997_plan_status_metadata_update/plans/001-plan-status-metadata-update-plan.md]
  - 3/3 phases complete

*Note: Previous completed projects removed via /todo --clean are recoverable via git revert 741ad2e3*
