{
  "_comment_purpose": "Template for auto-creating .claude/specs/state.json if missing. Self-healing commands use this template to bootstrap state tracking.",
  "_comment_usage": "Copy this template to .claude/specs/state.json and replace placeholder values with actual data from TODO.md",
  "_schema_version": "1.0.0",
  "_comment": "Main state tracking file for project .opencode system. Auto-created from template. Links to specialized state files for archives and maintenance.",
  "_last_updated": "{CURRENT_TIMESTAMP}",
  "next_project_number": "{HIGHEST_TASK_NUMBER + 1}",
  "project_numbering": {
    "min": 0,
    "max": 999,
    "policy": "increment_modulo_1000",
    "_comment": "Project numbers wrap around to 000 after 999. Ensure old projects are archived before reuse."
  },
  "state_references": {
    "archive_state_path": ".claude/specs/archive/state.json",
    "maintenance_state_path": ".claude/specs/maintenance/state.json",
    "_comment": "References to specialized state files. These files are auto-created if missing."
  },
  "active_projects": [],
  "_comment_active_projects": "Populated from TODO.md tasks with status [IN PROGRESS], [PLANNED], [RESEARCHED], [BLOCKED]. Each entry should have: project_number, project_name, type, phase, status, priority, language, created, started, last_updated, and optional fields like plan_path, research_completed, blocked, etc.",
  "completed_projects": [],
  "_comment_completed_projects": "Populated from TODO.md tasks with status [COMPLETED]. Each entry should have: project_number, project_name, type, completed, summary.",
  "repository_health": {
    "last_assessed": "{CURRENT_TIMESTAMP}",
    "overall_score": 0,
    "active_tasks": "{COUNT_ACTIVE_TASKS}",
    "completed_tasks": "{COUNT_COMPLETED_TASKS}",
    "blocked_tasks": "{COUNT_BLOCKED_TASKS}",
    "in_progress_tasks": "{COUNT_IN_PROGRESS_TASKS}",
    "not_started_tasks": "{COUNT_NOT_STARTED_TASKS}",
    "high_priority_tasks": "{COUNT_HIGH_PRIORITY}",
    "medium_priority_tasks": "{COUNT_MEDIUM_PRIORITY}",
    "low_priority_tasks": "{COUNT_LOW_PRIORITY}",
    "production_readiness": "unknown",
    "technical_debt": {
      "sorry_count": 0,
      "build_errors": 0,
      "status": "unknown",
      "_comment": "Technical debt tracked in task system. Update counts based on SORRY_REGISTRY.md and build status."
    }
  },
  "recent_activities": [
    {
      "timestamp": "{CURRENT_TIMESTAMP}",
      "activity": "Auto-created state.json from template - initialized with self-healing from TODO.md"
    }
  ],
  "_comment_recent_activities": "Track up to 50 most recent activities. Prepend new activities to maintain chronological order (newest first).",
  "pending_tasks": [],
  "_comment_pending_tasks": "Populated from TODO.md tasks with status [NOT STARTED]. Each entry should have: project_number, title, status, priority, language.",
  "maintenance_summary": {
    "_comment": "Quick reference to maintenance status - full history in maintenance/state.json",
    "last_maintenance": null,
    "next_scheduled": null,
    "health_trend": "unknown"
  },
  "archive_summary": {
    "_comment": "Quick reference to archived projects - full details in archive/state.json",
    "archive_location": ".claude/specs/archive/",
    "archive_state_file": ".claude/specs/archive/state.json"
  },
  "schema_info": {
    "version": "1.0.0",
    "backward_compatible": true,
    "extensible": true,
    "self_healing_enabled": true,
    "_comment": "This schema supports backward compatibility and self-healing. New fields are additive and optional. Missing infrastructure files are auto-created from templates."
  }
}
