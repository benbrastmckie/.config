# Standards Checklist for Meta-Generated Artifacts

**Version**: 1.0  
**Last Updated**: 2026-01-08  
**Purpose**: Validation checklist for agents, commands, context files, and workflows generated by meta subagents

---

## Agent Standards

### Frontmatter (Required Fields)

- [ ] **name**: Agent identifier (lowercase, hyphenated)
- [ ] **version**: Semantic version (e.g., "1.0.0")
- [ ] **description**: Clear, concise description (50-150 chars)
- [ ] **mode**: Agent mode (subagent, orchestrator, etc.)
- [ ] **agent_type**: Type classification (builder, analyzer, etc.)
- [ ] **temperature**: Temperature setting (0.0-1.0)
- [ ] **max_tokens**: Token limit (1000-8000)
- [ ] **timeout**: Timeout in seconds (600-3600)
- [ ] **tools**: Tool permissions (read, write, etc.)
- [ ] **permissions**: Allow/deny lists for file operations

### Frontmatter (Context Loading)

- [ ] **context_loading.strategy**: Loading strategy (lazy, eager)
- [ ] **context_loading.index**: Path to context index
- [ ] **context_loading.required**: List of required context files
- [ ] **context_loading.optional**: List of optional context files
- [ ] **context_loading.max_context_size**: Maximum context size in bytes

### Frontmatter (Delegation)

- [ ] **delegation.max_depth**: Maximum delegation depth
- [ ] **delegation.can_delegate_to**: List of delegatable agents
- [ ] **delegation.timeout_default**: Default timeout for delegations
- [ ] **delegation.timeout_max**: Maximum timeout for delegations

### Frontmatter (Lifecycle)

- [ ] **lifecycle.stage**: Lifecycle stage (8 for subagents)
- [ ] **lifecycle.return_format**: Return format specification

### XML Structure

- [ ] **<context>** section present (15-25% of prompt)
  - [ ] specialist_domain defined
  - [ ] task_scope defined
  - [ ] integration defined
  - [ ] lifecycle_integration defined

- [ ] **<role>** section present (5-10% of prompt)
  - [ ] Clear role definition
  - [ ] Expertise areas listed

- [ ] **<task>** section present
  - [ ] Clear objective stated
  - [ ] Scope defined

- [ ] **<workflow_execution>** section present
  - [ ] 8 stages defined (for subagents)
  - [ ] Each stage has: name, action, process, output
  - [ ] Stage 7 is Postflight (status updates, git commits)
  - [ ] Stage 8 is Return (standardized format)

- [ ] **<constraints>** section present
  - [ ] must/must_not lists defined
  - [ ] Clear boundaries

- [ ] **<validation_checks>** section present
  - [ ] Pre-execution checks
  - [ ] Post-execution checks

### Workflow Pattern

- [ ] **8-stage workflow** followed (for subagents)
  - [ ] Stage 1: Input validation
  - [ ] Stages 2-6: Core work
  - [ ] Stage 7: Postflight (status updates, git commits)
  - [ ] Stage 8: Return standardized result

- [ ] **Stage 7 (Postflight)** includes:
  - [ ] Artifact validation
  - [ ] Status updates via status-sync-manager
  - [ ] Git commits via git-workflow-manager

- [ ] **Stage 8 (Return)** follows subagent-return-format.md:
  - [ ] status field (completed, partial, failed, blocked)
  - [ ] summary field (<100 tokens)
  - [ ] artifacts array with validated artifacts
  - [ ] metadata object with session_id, agent_type, etc.
  - [ ] errors array (empty if successful)
  - [ ] next_steps field

### Delegation Pattern

- [ ] **@ symbol pattern** used for delegation
- [ ] **Context levels** specified for all routes
- [ ] **Delegation depth** tracked and limited
- [ ] **Delegation path** maintained

### File Size

- [ ] **Orchestrators**: 300-600 lines (target 450)
- [ ] **Subagents**: 200-600 lines (target 400)
- [ ] **Commands**: <300 lines (frontmatter delegation)

---

## Command Standards

### Frontmatter (Required Fields)

- [ ] **name**: Command name (matches filename)
- [ ] **agent**: Target agent (usually "orchestrator")
- [ ] **description**: Clear description (50-150 chars)
- [ ] **timeout**: Timeout in seconds
- [ ] **routing**: Routing configuration
  - [ ] default agent specified
  - [ ] language_based routing if applicable
- [ ] **context_loading**: Context loading configuration

### Structure

- [ ] **<300 lines total** (frontmatter delegation pattern)
- [ ] **High-level workflow description** (not detailed implementation)
- [ ] **Delegates to agent** for execution
- [ ] **Usage examples** provided
- [ ] **Artifact documentation** included

### Delegation Pattern

- [ ] Command delegates to agent (not implements directly)
- [ ] Agent field points to orchestrator or specific agent
- [ ] Routing configuration specifies target agents
- [ ] Context level appropriate for command scope

---

## Context File Standards

### Size

- [ ] **50-200 lines** (target 150)
- [ ] **Split if exceeds 200 lines**
- [ ] No files >250 lines

### Organization

- [ ] **Single responsibility** per file
- [ ] **Clear naming** (descriptive, not generic)
- [ ] **No duplication** across files
- [ ] **Dependencies documented**
- [ ] **Version and last updated date** included

### Content

- [ ] **Examples for every concept**
- [ ] **Clear section headers**
- [ ] **Markdown formatting** consistent
- [ ] **Code blocks** properly formatted
- [ ] **Cross-references** to related files

### File Types

- [ ] **Core standards**: System-wide standards (rarely change)
- [ ] **Core templates**: Template structures (monthly updates)
- [ ] **Core workflows**: Workflow patterns (monthly updates)
- [ ] **Project meta**: Meta-system patterns (weekly updates)
- [ ] **Project domain**: Domain-specific knowledge (per-task updates)

---

## Workflow Standards

### Structure

- [ ] **100-300 lines** (target 200)
- [ ] **Clear stages** with prerequisites
- [ ] **Success criteria** defined
- [ ] **Context dependencies** listed
- [ ] **Checkpoints** included

### Content

- [ ] **Stage definitions** clear and actionable
- [ ] **Input/output** specified for each stage
- [ ] **Error handling** documented
- [ ] **Rollback strategies** defined
- [ ] **Examples** provided

---

## Validation Process

### Pre-Generation

1. **Review standards** before generating
2. **Load relevant context files**
3. **Understand requirements**
4. **Plan artifact structure**

### Post-Generation

1. **Validate each artifact** against checklist
2. **Score against 10-point criteria**
3. **Must score 8+/10 to pass**
4. **Remediate issues** before returning

### Scoring Criteria (10-point scale)

#### For Agents:

1. **Frontmatter completeness** (2 points)
   - All required fields present
   - All sections properly configured

2. **XML structure** (2 points)
   - Optimal component ordering
   - Proper nesting and formatting

3. **Workflow pattern** (2 points)
   - 8-stage pattern followed
   - Stage 7 (Postflight) includes status updates and git commits
   - Stage 8 (Return) follows standardized format

4. **Delegation pattern** (2 points)
   - @ symbol pattern used
   - Context levels specified
   - Delegation depth tracked

5. **File size** (2 points)
   - Within target range
   - Not too large or too small

**Threshold**: Must score 8+/10 to pass

#### For Commands:

1. **Frontmatter completeness** (2 points)
2. **Delegation pattern** (2 points)
3. **File size <300 lines** (2 points)
4. **Usage examples** (2 points)
5. **Documentation quality** (2 points)

**Threshold**: Must score 8+/10 to pass

#### For Context Files:

1. **File size 50-200 lines** (2 points)
2. **Single responsibility** (2 points)
3. **Examples provided** (2 points)
4. **Clear organization** (2 points)
5. **No duplication** (2 points)

**Threshold**: Must score 8+/10 to pass

#### For Workflows:

1. **File size 100-300 lines** (2 points)
2. **Clear stages** (2 points)
3. **Success criteria** (2 points)
4. **Context dependencies** (2 points)
5. **Error handling** (2 points)

**Threshold**: Must score 8+/10 to pass

---

## Remediation Guidelines

### If Score <8/10

1. **Identify issues** from checklist
2. **Prioritize critical issues** (missing required fields, wrong structure)
3. **Fix issues** systematically
4. **Re-validate** against checklist
5. **Re-score** to confirm 8+/10

### Common Issues and Fixes

#### Missing Frontmatter Fields

**Issue**: Required frontmatter field missing  
**Fix**: Add field with appropriate value  
**Example**: Add `lifecycle.stage: 8` for subagents

#### File Too Large

**Issue**: File exceeds size limit  
**Fix**: Split into focused files or use frontmatter delegation  
**Example**: Split 400-line command into <300-line command + agent

#### Missing Stage 7 (Postflight)

**Issue**: Subagent missing Postflight stage  
**Fix**: Add Stage 7 with status updates and git commits  
**Example**: Add status-sync-manager and git-workflow-manager delegation

#### Wrong Return Format

**Issue**: Stage 8 return doesn't follow subagent-return-format.md  
**Fix**: Update return to include all required fields  
**Example**: Add status, summary, artifacts, metadata, errors, next_steps

#### No Examples

**Issue**: Context file has no examples  
**Fix**: Add concrete examples for each concept  
**Example**: Add code examples, usage examples, pattern examples

---

## Validation Report Format

```json
{
  "artifact_type": "agent|command|context|workflow",
  "artifact_name": "name",
  "score": 8,
  "max_score": 10,
  "passed": true,
  "issues": [
    {
      "category": "frontmatter|structure|workflow|delegation|size",
      "severity": "critical|warning|info",
      "description": "Issue description",
      "recommendation": "How to fix"
    }
  ],
  "remediated": [
    {
      "issue": "Issue description",
      "fix": "Fix applied"
    }
  ],
  "checklist": {
    "frontmatter_complete": true,
    "xml_structure_valid": true,
    "workflow_pattern_correct": true,
    "delegation_pattern_correct": true,
    "file_size_appropriate": true
  }
}
```

---

## Summary

**Key Principles**:
1. All artifacts must score 8+/10 to pass
2. Frontmatter must be complete and valid
3. XML structure must follow optimal ordering
4. Workflows must follow 8-stage pattern (for subagents)
5. File sizes must be within limits
6. Delegation must use @ symbol pattern
7. Stage 7 must include status updates and git commits
8. Stage 8 must follow standardized return format

**Validation Flow**:
```
Generate artifact
  ↓
Validate against checklist
  ↓
Score against 10-point criteria
  ↓
Score ≥8? → Yes → Accept artifact
  ↓ No
Remediate issues
  ↓
Re-validate and re-score
  ↓
Score ≥8? → Yes → Accept artifact
  ↓ No
Return error with validation report
```

**Remember**: Standards enforcement ensures consistency, quality, and maintainability across all meta-generated artifacts.
